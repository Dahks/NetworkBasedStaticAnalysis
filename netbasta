from src import Parser
if __name__ == '__main__':
    from src.CommandLine import CommandLineOptions  # Only used in cli

    try:
        CommandLineOptions.load()

        # Example parser, filename from args
        p = Parser(
            filename=CommandLineOptions.flags.get("filename")
        )

        fd = p.get_function_definitions()
        print([f.name for f in fd])

        fcalls = p.get_function_calls()
        print(fcalls)
    except Exception as e:
        print(str(e))
        exit(1)
